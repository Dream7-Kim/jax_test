import matplotlib as mpl
mpl.use('TkAgg')  # or whatever other backend that you want
import matplotlib.pyplot as plt
import numpy as np

data_num = []
for step in range(100):
    data_num.append(int(10**7/100*(step+1)))

# print(data_num)
gtime1 = [0.4674079418182373, 0.30785250663757324, 0.3059077262878418, 0.3048672676086426, 0.2987825870513916, 0.31089210510253906, 0.3078577518463135, 0.3243086338043213, 0.3004577159881592, 0.3021419048309326, 0.30972790718078613, 0.29377079010009766, 0.3042106628417969, 0.36533355712890625, 0.3128376007080078, 0.7129321098327637, 0.7383909225463867, 0.31284117698669434, 0.706519365310669, 0.6946659088134766, 0.30158543586730957, 0.7397518157958984, 0.7349858283996582, 0.32245898246765137, 0.7061526775360107, 0.7554061412811279, 0.3047645092010498, 0.7570602893829346, 0.7151772975921631, 0.30131101608276367, 0.727769136428833, 0.2792375087738037, 0.3246781826019287, 0.7002115249633789, 0.7083878517150879, 0.3180699348449707, 0.7236630916595459, 0.7287290096282959, 0.3128690719604492, 0.7248730659484863, 0.7462096214294434, 0.3086538314819336, 0.7391901016235352, 0.7026124000549316, 0.328930139541626, 0.7270693778991699, 0.7114782333374023, 0.30165863037109375, 0.7313072681427002, 0.720590353012085, 0.31500935554504395, 0.7112057209014893, 0.727184534072876, 0.3190195560455322, 0.7153394222259521, 0.7575855255126953, 0.3343353271484375, 0.6927175521850586, 0.7514774799346924, 0.3195521831512451, 0.7745745182037354, 0.7279157638549805, 0.33493947982788086, 0.29802727699279785, 0.7057652473449707, 0.32680273056030273, 0.6948010921478271, 0.7176570892333984, 0.3095126152038574, 0.7359309196472168, 0.7500085830688477, 0.31807780265808105, 0.7619342803955078, 0.7613155841827393, 0.3313257694244385, 0.7732059955596924, 0.765028715133667, 0.32970714569091797, 0.7040138244628906, 0.6878204345703125, 0.31218695640563965, 0.7667381763458252, 0.7357358932495117, 0.32463788986206055, 0.7596085071563721, 0.7184703350067139, 0.32435154914855957, 0.7672476768493652, 0.7576296329498291, 0.3473231792449951, 0.7813174724578857, 0.695070743560791, 0.321530818939209, 0.7384860515594482, 0.7174034118652344, 0.3203749656677246, 0.7289762496948242, 0.7252528667449951, 0.31853699684143066, 0.32947707176208496]
gtime2 = [0.02872753143310547, 0.028527498245239258, 0.030965566635131836, 0.028318405151367188, 0.02681732177734375, 0.028198957443237305, 0.026273488998413086, 0.029097318649291992, 0.028717517852783203, 0.02976202964782715, 0.03380727767944336, 0.03511333465576172, 0.029537439346313477, 0.03542971611022949, 0.029111385345458984, 0.033957481384277344, 0.033827781677246094, 0.03296613693237305, 0.03277444839477539, 0.033982276916503906, 0.033609628677368164, 0.03446197509765625, 0.03429841995239258, 0.0323486328125, 0.03192782402038574, 0.03195691108703613, 0.0299530029296875, 0.04652047157287598, 0.0344388484954834, 0.03158926963806152, 0.030997276306152344, 0.03194618225097656, 0.02961587905883789, 0.03405952453613281, 0.04610705375671387, 0.03178238868713379, 0.033896684646606445, 0.03343987464904785, 0.03311324119567871, 0.03047466278076172, 0.030362367630004883, 0.029946327209472656, 0.03504681587219238, 0.03250741958618164, 0.03381800651550293, 0.03841996192932129, 0.03412652015686035, 0.03790283203125, 0.03452444076538086, 0.05139732360839844, 0.03025031089782715, 0.0328066349029541, 0.03640103340148926, 0.030394554138183594, 0.03217911720275879, 0.032880306243896484, 0.03186440467834473, 0.031627655029296875, 0.04259085655212402, 0.030137062072753906, 0.03247523307800293, 0.031166791915893555, 0.034336090087890625, 0.03137397766113281, 0.038776397705078125, 0.031270503997802734, 0.03288769721984863, 0.03535199165344238, 0.03202319145202637, 0.035373687744140625, 0.03266620635986328, 0.03052830696105957, 0.032564640045166016, 0.03032231330871582, 0.03192424774169922, 0.04689526557922363, 0.029648780822753906, 0.03728628158569336, 0.031690359115600586, 0.03098273277282715, 0.0334475040435791, 0.03447127342224121, 0.03674483299255371, 0.030251741409301758, 0.033173322677612305, 0.031524658203125, 0.033127784729003906, 0.0346074104309082, 0.03971743583679199, 0.05565166473388672, 0.03473663330078125, 0.03338336944580078, 0.031351327896118164, 0.03626704216003418, 0.03215456008911133, 0.03330421447753906, 0.031983137130737305, 0.03266096115112305, 0.031905412673950195, 0.031304359436035156]
gtime3 = [0.030665874481201172, 0.026559114456176758, 0.025081634521484375, 0.0281984806060791, 0.025154829025268555, 0.028569936752319336, 0.02760148048400879, 0.02740931510925293, 0.02848219871520996, 0.027727603912353516, 0.031539201736450195, 0.029030323028564453, 0.0297396183013916, 0.03463387489318848, 0.0282135009765625, 0.0319063663482666, 0.034377098083496094, 0.02924513816833496, 0.0332489013671875, 0.03335142135620117, 0.03131389617919922, 0.03382086753845215, 0.03675580024719238, 0.054540395736694336, 0.03077864646911621, 0.0306704044342041, 0.0294950008392334, 0.038350820541381836, 0.033982038497924805, 0.03228592872619629, 0.029233217239379883, 0.031871795654296875, 0.029929161071777344, 0.02898693084716797, 0.02890610694885254, 0.03166985511779785, 0.0321810245513916, 0.03404855728149414, 0.030078649520874023, 0.040305376052856445, 0.0328221321105957, 0.029814720153808594, 0.031595706939697266, 0.0322265625, 0.029386043548583984, 0.03306007385253906, 0.0335538387298584, 0.034157752990722656, 0.03243756294250488, 0.03439164161682129, 0.02949237823486328, 0.030003786087036133, 0.03560781478881836, 0.02894759178161621, 0.031372785568237305, 0.029434680938720703, 0.03368258476257324, 0.030605554580688477, 0.045786142349243164, 0.029049158096313477, 0.033341407775878906, 0.031210660934448242, 0.0306243896484375, 0.03255891799926758, 0.031797170639038086, 0.03969430923461914, 0.03276705741882324, 0.03166985511779785, 0.03156876564025879, 0.03420448303222656, 0.03065013885498047, 0.0294797420501709, 0.04455447196960449, 0.030266761779785156, 0.031822919845581055, 0.032370567321777344, 0.029622554779052734, 0.033844709396362305, 0.030766010284423828, 0.028875350952148438, 0.03027653694152832, 0.033905029296875, 0.03461050987243652, 0.03314328193664551, 0.033495187759399414, 0.03152179718017578, 0.032288551330566406, 0.033615827560424805, 0.03480696678161621, 0.034729719161987305, 0.032598257064819336, 0.034001827239990234, 0.03182339668273926, 0.0322871208190918, 0.0313718318939209, 0.035341501235961914, 0.031162261962890625, 0.033425331115722656, 0.031049013137817383, 0.031140804290771484]


ctime1 = [0.46326375007629395, 0.4591786861419678, 0.6089422702789307, 0.38982081413269043, 0.3771646022796631, 0.4432213306427002, 0.41588497161865234, 0.45728230476379395, 0.43926477432250977, 0.4237632751464844, 0.4815676212310791, 0.4997830390930176, 0.49430155754089355, 0.4766378402709961, 0.4672377109527588, 0.46120381355285645, 0.5137898921966553, 0.521651029586792, 0.4906771183013916, 0.48749494552612305, 0.4587070941925049, 0.5112228393554688, 0.5367891788482666, 0.46303558349609375, 0.49266815185546875, 0.485121488571167, 0.504356861114502, 0.5161337852478027, 0.48455238342285156, 0.49190473556518555, 0.49120378494262695, 0.4959068298339844, 0.5436561107635498, 0.4872932434082031, 0.5081119537353516, 0.5279161930084229, 0.5251317024230957, 0.5544655323028564, 0.4614739418029785, 0.48148369789123535, 0.5103476047515869, 0.5544652938842773, 0.5510482788085938, 0.5573341846466064, 0.5447521209716797, 0.5704736709594727, 0.5199398994445801, 0.49300622940063477, 0.5172922611236572, 0.5110199451446533, 0.5227799415588379, 0.5542840957641602, 0.5694580078125, 0.5961127281188965, 0.5289669036865234, 0.518498420715332, 0.579401969909668, 0.5429341793060303, 0.5460960865020752, 0.5372576713562012, 0.6234519481658936, 0.5731847286224365, 0.6308236122131348, 0.5524404048919678, 0.5805599689483643, 0.5987091064453125, 0.5864145755767822, 0.5492219924926758, 0.594698429107666, 0.574190616607666, 0.5965421199798584, 0.5624043941497803, 0.5857629776000977, 0.6219804286956787, 0.6569974422454834, 0.6421558856964111, 0.6460895538330078, 0.7104451656341553, 0.678598165512085, 0.7312600612640381, 0.7358405590057373, 0.6982414722442627, 0.7018647193908691, 0.748986005783081, 0.7901060581207275, 0.7578556537628174, 0.6861085891723633, 0.718017578125, 0.7085449695587158, 0.7605254650115967, 0.7507321834564209, 0.7063591480255127, 0.7133316993713379, 0.7269887924194336, 0.762955904006958, 0.747936487197876, 0.7411472797393799, 0.7504165172576904, 0.7768738269805908, 0.8077898025512695]
ctime2 = [0.02709054946899414, 0.03048419952392578, 0.03545856475830078, 0.03278088569641113, 0.03438210487365723, 0.03591585159301758, 0.04357337951660156, 0.04581451416015625, 0.04098343849182129, 0.050126075744628906, 0.057480812072753906, 0.07091426849365234, 0.07307982444763184, 0.07030653953552246, 0.07649779319763184, 0.08028626441955566, 0.07431244850158691, 0.09617304801940918, 0.08192253112792969, 0.09358477592468262, 0.09141087532043457, 0.10099244117736816, 0.1040804386138916, 0.09033775329589844, 0.09441828727722168, 0.12445545196533203, 0.13727355003356934, 0.13293123245239258, 0.1368122100830078, 0.12557101249694824, 0.12641477584838867, 0.1129753589630127, 0.11664986610412598, 0.14129233360290527, 0.16066336631774902, 0.14142155647277832, 0.12837624549865723, 0.13298654556274414, 0.13728046417236328, 0.1471552848815918, 0.15584850311279297, 0.15483903884887695, 0.13720059394836426, 0.14889979362487793, 0.14783644676208496, 0.17397165298461914, 0.16680264472961426, 0.14726042747497559, 0.1771998405456543, 0.15615177154541016, 0.16921114921569824, 0.20030760765075684, 0.19295358657836914, 0.16733980178833008, 0.18748068809509277, 0.22368144989013672, 0.21442914009094238, 0.19488811492919922, 0.20503997802734375, 0.1982567310333252, 0.2218306064605713, 0.23482489585876465, 0.193342924118042, 0.18789315223693848, 0.2448122501373291, 0.1930866241455078, 0.2134699821472168, 0.20013046264648438, 0.24031877517700195, 0.20074129104614258, 0.20617294311523438, 0.21836233139038086, 0.266463041305542, 0.22634410858154297, 0.24361038208007812, 0.2277848720550537, 0.2843129634857178, 0.2272186279296875, 0.23644208908081055, 0.23578381538391113, 0.3015270233154297, 0.23942089080810547, 0.2579526901245117, 0.2889578342437744, 0.312976598739624, 0.27480053901672363, 0.2399592399597168, 0.29523706436157227, 0.30710530281066895, 0.2797377109527588, 0.2552828788757324, 0.26349925994873047, 0.290144681930542, 0.26090455055236816, 0.2665553092956543, 0.2714540958404541, 0.2987947463989258, 0.2872920036315918, 0.2732400894165039, 0.3080120086669922]
ctime3 = [0.027073383331298828, 0.025946378707885742, 0.03305220603942871, 0.02956223487854004, 0.07095861434936523, 0.03412890434265137, 0.04413318634033203, 0.04041790962219238, 0.04425787925720215, 0.04700493812561035, 0.09599018096923828, 0.06444597244262695, 0.07369327545166016, 0.07796382904052734, 0.07400250434875488, 0.07769536972045898, 0.07335448265075684, 0.09380292892456055, 0.07786750793457031, 0.07964897155761719, 0.09395551681518555, 0.09684991836547852, 0.08919453620910645, 0.09006977081298828, 0.0929708480834961, 0.1029655933380127, 0.1026146411895752, 0.10715413093566895, 0.11624717712402344, 0.1266942024230957, 0.1168966293334961, 0.11053109169006348, 0.11590003967285156, 0.12551045417785645, 0.13831496238708496, 0.12470245361328125, 0.12352466583251953, 0.12718486785888672, 0.1438589096069336, 0.13186097145080566, 0.1456155776977539, 0.15839934349060059, 0.14871644973754883, 0.14006781578063965, 0.15784668922424316, 0.14721441268920898, 0.16360211372375488, 0.16015362739562988, 0.1768779754638672, 0.15546274185180664, 0.18802356719970703, 0.1833508014678955, 0.20157814025878906, 0.18282651901245117, 0.18255877494812012, 0.1740436553955078, 0.2014467716217041, 0.19747471809387207, 0.17822265625, 0.2100694179534912, 0.2220296859741211, 0.19205880165100098, 0.18200111389160156, 0.2422471046447754, 0.22675347328186035, 0.19025492668151855, 0.19301939010620117, 0.20600366592407227, 0.28957128524780273, 0.2001945972442627, 0.21111488342285156, 0.23738837242126465, 0.24591898918151855, 0.22090697288513184, 0.21503591537475586, 0.23728632926940918, 0.24998927116394043, 0.2392871379852295, 0.22896957397460938, 0.247725248336792, 0.2734260559082031, 0.23399901390075684, 0.2410893440246582, 0.2999858856201172, 0.325880765914917, 0.2554292678833008, 0.2868363857269287, 0.3067488670349121, 0.3349490165710449, 0.27167177200317383, 0.2572493553161621, 0.2623710632324219, 0.27004384994506836, 0.2564675807952881, 0.27405285835266113, 0.26578545570373535, 0.27722907066345215, 0.2682003974914551, 0.27538609504699707, 0.3127939701080322]
# print(type(time1))

data_num = np.log10(data_num)

plt.figure(figsize=(40, 10), dpi=240)
plt.title("Execution time on GPU")
plt.xlabel("Data Number(log10)")
plt.ylabel("Execution time(s)")
# plt.plot(data_num, gtime1, 'r', data_num, gtime2, 'g', data_num, gtime3, 'b', data_num, ctime1, 'r--', data_num, ctime2, 'g--', data_num, ctime3, 'b--')
plt.plot(data_num, gtime2, 'g', data_num, gtime3, 'b')
plt.legend(loc='lower right')
plt.savefig("gpu execution time.png", dpi=240)
